<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鬥靈場</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="menu-page">
        <div class="container">
            <h1>鬥靈場</h1>
            <div class="button-container">
                <button onclick="showPage('selection')">單人模式</button>
                <button onclick="showPage('calculation-page')">計算機</button>
                <button onclick="showPage('login-page')">線上鬥靈</button>
                <button onclick="showPage('settings-page')">設定</button>
            </div>
            <img src="menu-icon.png" alt="Menu" class="menu-image" onclick="showPage('menu-page')">
        </div>
    </div>

    <div id="selection" style="display: none;">
        <div class="container">
            <h1>選擇你的鬥靈</h1>
            <div id="spirit-list"></div>
            <div id="selected-spirits">
                <h2>已選擇的鬥靈</h2>
                <div id="selected-list"></div>
                <button onclick="confirmSelection()">確認選擇</button>
            </div>
        </div>
    </div>

    <div id="calculation-page" style="display: none;">
        <div class="container">
            <h1>戰力計算機</h1>
            <div id="calculation-spirits"></div>
            <div id="selected-spirits">
                <h2>已選擇的鬥靈</h2>
                <div id="selected-list"></div>
                <button onclick="calculatePower()">計算戰力</button>
            </div>
            <div class="result-table" id="calculation-results"></div>
        </div>
    </div>

    <div id="settings-page" style="display: none;">
        <h1>設定</h1>
        <label>背景音樂音量</label>
        <input type="range" min="0" max="100" value="50" id="bgm-volume">
        <label>音效音量</label>
        <input type="range" min="0" max="100" value="50" id="sfx-volume">
        <button onclick="saveSettings()">儲存設定</button>
        <h2>自訂鬥靈</h2>
        <form id="custom-spirit-form">
            <input type="text" name="spirit-name" placeholder="鬥靈名稱">
            <input type="number" name="hp" placeholder="HP">
            <input type="number" name="atk" placeholder="攻擊力">
            <input type="number" name="def" placeholder="防禦力">
            <input type="number" name="spd" placeholder="速度">
            <button type="submit">新增自訂鬥靈</button>
        </form>
        <div id="custom-spirit-list"></div>
        <button onclick="showPage('menu-page')">返回</button>
    </div>

    <div id="login-page" style="display: none;">
        <button id="back-to-menu-from-login" class="back-button">返回</button>
        <div class="login-content">
            <h2>登入</h2>
            <div class="login-form">
                <input type="text" id="login-username" placeholder="帳號">
                <input type="password" id="login-password" placeholder="密碼">
                <button id="login-submit">登入</button>
                <button id="show-register">註冊</button>
            </div>
        </div>
    </div>

    <div id="register-page" style="display: none;">
        <button id="back-to-login" class="back-button">返回</button>
        <div class="login-content">
            <h2>註冊</h2>
            <div class="register-form">
                <input type="text" id="register-username" placeholder="帳號">
                <input type="password" id="register-password" placeholder="密碼">
                <button id="register-submit">註冊</button>
            </div>
        </div>
    </div>

    <div id="lobby-page" style="display: none;">
        <!-- 修改：大廳頁面頂部 -->
        <div class="lobby-header">
            <div id="username-display"></div> <!-- 新增：顯示帳號名稱 -->
            <button id="daily-check-in">每日簽到</button>
            <div id="coins-display">鬥靈幣: 0</div>
        </div>
        <div class="container" style="padding-top: 60px;">
            <h1>大廳</h1>
            <button onclick="showPage('create-room-page')">創建房間</button>
            <h2>房間列表</h2>
            <div id="room-list"></div>
        </div>
    </div>

    <div id="create-room-page" style="display: none;">
        <h1>創建房間</h1>
        <label>房間名稱</label>
        <input type="text" id="room-name" placeholder="輸入房間名稱">
        <label>房間模式</label>
        <select id="room-mode">
            <option value="1v1">1v1</option>
            <option value="2v2">2v2</option>
        </select>
        <button onclick="createRoom()">創建</button>
        <button onclick="showPage('lobby-page')">返回</button>
    </div>

    <div id="room-page" style="display: none;">
        <!-- 修改：房間頁面結構 -->
        <div id="player-list">
            <h3>房間成員</h3>
            <ul id="player-list-content"></ul>
        </div>
        <div id="room-content">
            <h1 id="room-title"></h1>
            <div id="player-actions">
                <button onclick="startGame()">開始遊戲</button>
                <button onclick="leaveRoom()">離開房間</button>
            </div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="script.js"></script>
</body>
</html>
